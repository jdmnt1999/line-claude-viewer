# LINE Claude Viewer セットアップガイド

## 概要

本ドキュメントでは、LINE Claude Viewerのセットアップ方法と動作環境の構築について解説します。このアプリケーションは、ブラウザ上で動作するクライアントサイドアプリケーションで、サーバーサイドのコンポーネントは必要ありません。

## 必要要件

### 最小要件

- **ウェブブラウザ**：
  - Google Chrome 93以降
  - Mozilla Firefox 92以降
  - Microsoft Edge 93以降
  - Safari 15以降
- **インターネット接続**：Claude APIにアクセスするため
- **ディスク容量**：50MB以上（ソースコードとデータ保存用）
- **メモリ**：4GB以上推奨

### 推奨環境

- **ウェブブラウザ**：最新バージョンのGoogle Chrome、Firefox、Edge
- **インターネット接続**：高速ブロードバンド接続
- **ディスク容量**：100MB以上
- **メモリ**：8GB以上
- **ディスプレイ**：解像度1366x768以上（デスクトップモード）、3カラムレイアウトでは1920x1080推奨

## インストール手順

### 方法1：ローカルファイルとして使用

1. GitHubからリポジトリをクローンまたはダウンロード：
   ```
   git clone https://github.com/jdmnt1999/line-claude-viewer.git
   ```

2. ダウンロードしたフォルダ内の`index.html`をウェブブラウザで開きます。

### 方法2：ローカルウェブサーバーで使用

1. GitHubからリポジトリをクローンまたはダウンロード：
   ```
   git clone https://github.com/jdmnt1999/line-claude-viewer.git
   ```

2. 任意のローカルウェブサーバーを使用してファイルを配信します。例えば：

   **Node.jsを使用する場合**：
   ```
   npm install -g http-server
   cd line-claude-viewer
   http-server
   ```

   **Pythonを使用する場合**：
   ```
   cd line-claude-viewer
   # Python 3の場合
   python -m http.server
   # Python 2の場合
   python -m SimpleHTTPServer
   ```

3. ブラウザで `http://localhost:8080` または表示されるURLにアクセスします。

### 方法3：ウェブサーバーへのデプロイ

1. GitHubからリポジトリをクローンまたはダウンロード：
   ```
   git clone https://github.com/jdmnt1999/line-claude-viewer.git
   ```

2. ファイルをウェブサーバーの公開ディレクトリにアップロードします。

3. ブラウザから該当するURLにアクセスします。

## 初期設定

1. アプリケーションを開いたら、右カラムのAPI Integrationセクションでの設定が必要です：
   - **APIキー**：Claude APIキーを入力
   - **モデル**：使用するモデルを選択（デフォルトはClaude 3.7 Sonnet）

2. 「Save Settings」ボタンをクリックして設定を保存します。

## Claude APIキーの取得方法

1. [Anthropic](https://www.anthropic.com/)にアクセスして、アカウントを作成または既存のアカウントにログインします。

2. Anthropicのダッシュボードにアクセスし、API セクションに移動します。

3. APIキーの作成または既存のAPIキーの取得を行います。

4. 取得したAPIキーをLINE Claude Viewerの設定画面に入力します。

## トラブルシューティング

### ブラウザのCORS制限に関する問題

ローカルファイルとして開いた場合、一部のブラウザではCORS（Cross-Origin Resource Sharing）の制限により、APIリクエストが失敗することがあります。この場合は、ローカルウェブサーバーを使用してください。

### IndexedDBに関する問題

1. **ストレージクォータに達した場合**：
   - ブラウザの設定から、サイトデータをクリアします。
   - 不要な会話をエクスポートしてから削除します。

2. **IndexedDBが動作しない場合**：
   - ブラウザの設定で、サイトのCookieとストレージが許可されているか確認します。
   - プライベートブラウジングモードでは、IndexedDBのデータが永続化されないことがあります。

### APIエラーが発生する場合

1. **認証エラー**：
   - APIキーが正しく入力されているか確認します。
   - APIキーが有効であることを確認します。

2. **レート制限エラー**：
   - APIの呼び出し回数が制限に達した可能性があります。しばらく待ってから再試行してください。

3. **その他のAPIエラー**：
   - コンソールに表示されるエラーメッセージを確認します。
   - Anthropicのドキュメントを参照して、エラーコードの意味を確認します。

## 3カラムレイアウトの表示に関する問題

1. **レイアウトが崩れる場合**：
   - ブラウザのウィンドウサイズが十分に大きいことを確認してください。
   - ズーム設定が100%になっていることを確認してください。

2. **モバイル表示の問題**：
   - モバイルデバイスでは、一部のカラムがオーバーレイとして表示されます。
   - ヘッダーのトグルボタンを使用して、左右のカラムを表示/非表示できます。

## データのバックアップとリカバリ

### 会話データのバックアップ

1. 会話を表示した状態で、右カラムの「Export Conversation」ボタンをクリックします。
2. 会話データがJSONファイルとしてダウンロードされます。
3. このJSONファイルを安全な場所に保存します。

### 会話データのリカバリ

1. アプリケーションを開き、中央画面の「Load Conversation」ボタンをクリックします。
2. バックアップしたJSONファイルを選択するか、テキストエリアにJSONデータを貼り付けます。
3. 「読み込む」ボタンをクリックして、会話を復元します。

## セキュリティに関する注意事項

- APIキーはブラウザのローカルストレージに保存されます。共有デバイスでの使用には注意してください。
- 会話データはブラウザのIndexedDBに保存されます。ブラウザのデータをクリアすると、保存されていない会話データは失われます。
- 重要な会話は定期的にエクスポートしてバックアップすることをお勧めします。

## アップデート方法

新しいバージョンがリリースされた場合は、以下の手順でアップデートを行ってください：

1. GitHubリポジトリから最新のコードをプルまたはダウンロードします：
   ```
   git pull origin main
   ```

2. ブラウザでアプリケーションを再読み込みします。

## 高度な設定

### デバッグモード

開発者向けのデバッグモードを有効にするには、ブラウザのコンソールで以下のコマンドを実行します：

```javascript
localStorage.setItem('debugMode', 'true');
// デバッグモードを無効にする場合
// localStorage.setItem('debugMode', 'false');
```

デバッグモードでは、コンソールに詳細なログが出力されます。

### カスタムCORSプロキシの設定

デフォルトのCORSプロキシを使用せず、カスタムのプロキシを設定する場合は、以下のコマンドをコンソールで実行します：

```javascript
localStorage.setItem('corsProxy', 'https://your-custom-proxy-url.com/');
```

## リポジトリ情報

- リポジトリURL: https://github.com/jdmnt1999/line-claude-viewer
- 作業パス: E:/Desktop/ClaudeCode/claude-line
- デプロイパス: ローカルウェブサーバー環境（任意）

---

更新日: 2025年5月6日  
バージョン: r2  
作成者: 開発チーム
